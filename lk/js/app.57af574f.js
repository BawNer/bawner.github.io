(function(e){function t(t){for(var r,i,c=t[0],s=t[1],u=t[2],l=0,f=[];l<c.length;l++)i=c[l],a[i]&&f.push(a[i][0]),a[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);p&&p(t);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var c=n[i];0!==a[c]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},i={app:0},a={app:0},o=[];function c(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-6ff71fb4":"43eb6b9b","chunk-b0849b6c":"d9ca6717","chunk-f016f126":"971b0435","chunk-02213e25":"f6dc14d0","chunk-0a5a751e":"521cca83","chunk-03d952bf":"9e990990","chunk-2d0b6e6c":"aadeb322","chunk-2d0c8e41":"091600a2"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-6ff71fb4":1,"chunk-b0849b6c":1,"chunk-f016f126":1,"chunk-02213e25":1,"chunk-0a5a751e":1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=new Promise(function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-6ff71fb4":"6403cf60","chunk-b0849b6c":"896fcd27","chunk-f016f126":"fc7fd98b","chunk-02213e25":"cfb5e27f","chunk-0a5a751e":"12149843","chunk-03d952bf":"31d6cfe0","chunk-2d0b6e6c":"31d6cfe0","chunk-2d0c8e41":"31d6cfe0"}[e]+".css",a=s.p+r,o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var u=o[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===a))return t()}var f=document.getElementsByTagName("style");for(c=0;c<f.length;c++){u=f[c],l=u.getAttribute("data-href");if(l===r||l===a)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||a,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete i[e],p.parentNode.removeChild(p),n(o)},p.href=a;var d=document.getElementsByTagName("head")[0];d.appendChild(p)}).then(function(){i[e]=0}));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise(function(t,n){r=a[e]=[t,n]});t.push(r[2]=o);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=c(e),u=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+r+": "+i+")");o.type=r,o.request=i,n[1](o)}a[e]=void 0}};var f=setTimeout(function(){u({type:"timeout",target:l})},12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/bawner.github.io/lk/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var f=0;f<u.length;f++)t(u[f]);var p=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("1356"),i=n.n(r);i.a},1356:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-navigation-drawer",{attrs:{app:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("v-list",[n("v-list-item",[n("v-list-item-avatar",[n("v-img",{attrs:{src:"https://randomuser.me/api/portraits/men/85.jpg"}})],1)],1),n("v-list-item",{attrs:{"two-line":""}},[e.user?n("v-list-item-content",[n("v-list-item-title",{staticClass:"title"},[e._v(e._s(e.user.uid))]),n("v-list-item-subtitle",[e._v(e._s(e.user.email))])],1):e._e()],1)],1)]},proxy:!0},{key:"append",fn:function(){return[n("div",{staticClass:"pa-2"},[n("v-switch",{attrs:{color:"indigo",label:"Ночной режим"},on:{change:function(t){return e.switchTheme(t)}},model:{value:e.ui.darkTheme,callback:function(t){e.$set(e.ui,"darkTheme",t)},expression:"ui.darkTheme"}})],1)]},proxy:!0}]),model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-divider"),n("v-list",{attrs:{nav:""}},e._l(e.links,function(t){return n("v-list-item",{key:t.name,attrs:{link:"",to:{path:t.route}}},[n("v-list-item-icon",[n("v-icon",[e._v(e._s(t.icon))])],1),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t.name))])],1)],1)}),1)],1),n("v-app-bar",{attrs:{app:""}},[n("v-app-bar-nav-icon",{staticClass:"hidden-sm-and-up",attrs:{disabled:!e.user},on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),n("v-toolbar-title",[e._v("lk.ezner.com")]),n("v-spacer"),e.user?n("v-btn",{attrs:{text:""},on:{click:e.onLogOut}},[n("v-icon",{attrs:{left:""}},[e._v("mdi-exit-to-app")]),e._v("\n      Выход\n    ")],1):e._e()],1),n("v-content",[n("v-container",{attrs:{fluid:""}},[n("router-view")],1)],1),e.error?[n("v-snackbar",{attrs:{timeout:5e3,"multi-line":!0,color:"error",value:e.loading},on:{input:e.closeError}},[e._v("\n      "+e._s(e.error)+"\n      "),n("v-btn",{attrs:{text:"",dark:""},nativeOn:{click:function(t){return e.closeError(t)}}},[e._v("Close")])],1)]:e._e(),n("v-footer",{attrs:{app:""}},[n("v-spacer"),n("v-badge",{staticClass:"mx-2",attrs:{color:"error"},scopedSlots:e._u([{key:"badge",fn:function(){return[e._v("!")]},proxy:!0}])},[e._v("\n      Alpha 0.1\n    ")])],1)],2)},a=[],o={name:"App",data:function(){return{drawer:!1,links:[{name:"Главная",icon:"mdi-view-dashboard",route:"/"},{name:"Услуги",icon:"mdi-finance",route:"/services"},{name:"Клиенты",icon:"mdi-account",route:"/clients"},{name:"Финансы",icon:"mdi-currency-rub",route:"/finances"}]}},methods:{switchTheme:function(e){this.$store.dispatch("switchTheme",e),this.$vuetify.theme.dark=this.ui.darkTheme},closeError:function(){this.$store.dispatch("clearError")},onLogOut:function(){this.$store.dispatch("logoutUser"),this.$store.dispatch("setDrawer",!1),this.$router.push("/login")}},computed:{ui:function(){return this.drawer=this.$store.getters.getAllInfo.drawer,this.$store.getters.getAllInfo},user:function(){return this.$store.getters.getUserInfo},error:function(){return this.$store.getters.error},loading:function(){return this.$store.getters.loading}},beforeCreate:function(){window.innerWidth<700?this.$store.dispatch("setDrawer",!1):null!==this.user?this.$store.dispatch("setDrawer",!0):this.$store.dispatch("setDrawer",!1)}},c=o,s=(n("034f"),n("2877")),u=n("6544"),l=n.n(u),f=n("7496"),p=n("40dc"),d=n("5bc1"),h=n("4ca6"),m=n("8336"),v=n("a523"),b=n("a75b"),E=n("ce7e"),g=n("553a"),O=n("132d"),w=n("adda"),R=n("8860"),_=n("da13"),S=n("8270"),k=n("5d23"),T=n("34c3"),y=n("f774"),A=n("2db4"),I=n("2fa4"),L=n("b73d"),D=n("2a7f"),j=Object(s["a"])(c,i,a,!1,null,null,null),C=j.exports;l()(j,{VApp:f["a"],VAppBar:p["a"],VAppBarNavIcon:d["a"],VBadge:h["a"],VBtn:m["a"],VContainer:v["a"],VContent:b["a"],VDivider:E["a"],VFooter:g["a"],VIcon:O["a"],VImg:w["a"],VList:R["a"],VListItem:_["a"],VListItemAvatar:S["a"],VListItemContent:k["a"],VListItemIcon:T["a"],VListItemSubtitle:k["b"],VListItemTitle:k["c"],VNavigationDrawer:y["a"],VSnackbar:A["a"],VSpacer:I["a"],VSwitch:L["a"],VToolbarTitle:D["a"]});var x=n("f309");n("bf40");r["a"].use(x["a"]);var N=new x["a"]({icons:{iconfont:"mdi"},theme:{dark:!1}}),P=n("8c4f"),V=n("2f62"),G={state:{info:{profit:0,clients:0,orders:0,drawer:!0,darkTheme:!1}},mutations:{SET_DRAWER:function(e,t){e.info.drawer=t},SWITCH_THEME:function(e,t){e.info.darkTheme=t}},actions:{setDrawer:function(e,t){var n=e.commit;n("SET_DRAWER",t)},switchTheme:function(e,t){var n=e.commit;n("SWITCH_THEME",t)}},getters:{getAllInfo:function(e){return e.info}}},U=(n("8e6e"),n("456d"),n("ac6a"),n("bd86")),$=(n("96cf"),n("3b8d")),B=(n("7514"),n("7f7f"),n("d225")),W=n("8aa5");function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(n,!0).forEach(function(t){Object(U["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var z=function e(t,n){var r=t.name,i=t.price,a=t.description,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(B["a"])(this,e),this.name=r,this.price=i,this.description=a,this.ownerId=n,this.id=o},F={state:{services:[]},mutations:{ADD_SERVICES:function(e,t){e.services.push(t)},DELETE_SERVICES:function(e,t){e.services=e.services.filter(function(e){return e.id!==t})},LOAD_SERVICES:function(e,t){e.services=t},UPDATE_SERVICES:function(e,t){var n=t.title,r=t.name,i=t.price,a=t.description,o=t.id,c=e.services.find(function(e){return e.id===o});c.price=i,c.title=n,c.name=r,c.description=a}},actions:{addServices:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(t,n){var r,i,a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,i=t.getters,r("CLEAR_ERROR"),r("SET_LOADING",!0),e.prev=3,a=new z(n,i.getUserInfo.uid),e.next=7,W["database"]().ref("services").push(a);case 7:o=e.sent,r("SET_LOADING",!1),r("ADD_SERVICES",H({},a,{id:o.key})),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](3),r("SET_ERROR",e.t0.message),r("SET_LOADING",!1);case 16:case"end":return e.stop()}},e,null,[[3,12]])}));function t(t,n){return e.apply(this,arguments)}return t}(),fetchServices:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(t){var n,r,i,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n("CLEAR_ERROR"),n("SET_LOADING",!0),r=[],e.prev=4,e.next=7,W["database"]().ref("services").once("value");case 7:i=e.sent,a=i.val(),null!==a&&(Object.keys(a).forEach(function(e){var t=a[e];r.push(new z(t,t.ownerId,e))}),n("LOAD_SERVICES",r)),n("SET_LOADING",!1),e.next=18;break;case 13:throw e.prev=13,e.t0=e["catch"](4),n("SET_ERROR",e.t0.message),n("SET_LOADING",!1),e.t0;case 18:case"end":return e.stop()}},e,null,[[4,13]])}));function t(t){return e.apply(this,arguments)}return t}(),editServices:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(t,n){var r,i,a,o,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,i=n.name,a=n.price,o=n.description,c=n.id,r("CLEAR_ERROR"),r("SET_LOADING",!0),e.prev=4,e.next=7,W["database"]().ref("services").child(c).update({name:i,price:a,description:o});case 7:r("UPDATE_SERVICES",{name:i,price:a,description:o,id:c}),r("SET_LOADING",!1),e.next=16;break;case 11:throw e.prev=11,e.t0=e["catch"](4),r("SET_ERROR",e.t0.message),r("SET_LOADING",!1),e.t0;case 16:case"end":return e.stop()}},e,null,[[4,11]])}));function t(t,n){return e.apply(this,arguments)}return t}(),deleteServices:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,r("CLEAR_ERROR"),r("SET_LOADING",!0),e.prev=3,e.next=6,W["database"]().ref("services").child(n).remove();case 6:r("DELETE_SERVICES",n),r("SET_LOADING",!1),e.next=15;break;case 10:throw e.prev=10,e.t0=e["catch"](3),r("SET_ERROR",e.t0.message),r("SET_LOADING",!1),e.t0;case 15:case"end":return e.stop()}},e,null,[[3,10]])}));function t(t,n){return e.apply(this,arguments)}return t}()},getters:{getServicesInfo:function(e,t){return e.services.filter(function(e){return e.ownerId===t.getUserInfo.uid})}}};function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(n,!0).forEach(function(t){Object(U["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var K=function e(t,n){var r=t.name,i=t.phone,a=t.email,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(B["a"])(this,e),this.name=r,this.phone=i,this.email=a,this.ownerId=n,this.id=o},Q={state:{clients:[]},mutations:{ADD_CLIENT:function(e,t){e.clients.push(t)},LOAD_CLIENTS:function(e,t){e.clients=t}},actions:{addClient:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(t,n){var r,i,a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,i=t.getters,r("CLEAR_ERROR"),r("SET_LOADING",!0),e.prev=3,a=new K(n,i.getUserInfo.uid),e.next=7,W["database"]().ref("uclients").push(a);case 7:o=e.sent,r("SET_LOADING",!1),r("ADD_CLIENT",q({},a,{id:o.key})),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](3),r("SET_LOADING",!1),r("SET_ERROR",e.t0.message);case 16:case"end":return e.stop()}},e,null,[[3,12]])}));function t(t,n){return e.apply(this,arguments)}return t}(),fetchClients:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(t){var n,r,i,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n("CLEAR_ERROR"),n("SET_LOADING",!0),r=[],e.prev=4,e.next=7,W["database"]().ref("uclients").once("value");case 7:i=e.sent,a=i.val(),null!==a&&(Object.keys(a).forEach(function(e){var t=a[e];r.push(new K(t,t.ownerId,e))}),n("LOAD_CLIENTS",r)),n("SET_LOADING",!1),e.next=18;break;case 13:throw e.prev=13,e.t0=e["catch"](4),n("SET_ERROR",e.t0.message),n("SET_LOADING",!1),e.t0;case 18:case"end":return e.stop()}},e,null,[[4,13]])}));function t(t){return e.apply(this,arguments)}return t}()},getters:{getClientsList:function(e){return e.clients}}},Y=function e(t,n){Object(B["a"])(this,e),this.uid=t,this.email=n},Z={state:{user:null},mutations:{SET_USER:function(e,t){e.user=t}},actions:{registrationUser:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(t,n){var r,i,a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,i=n.email,a=n.password,r("CLEAR_ERROR"),r("SET_LOADING",!0),e.prev=4,e.next=7,W["auth"]().createUserWithEmailAndPassword(i,a);case 7:o=e.sent,r("SET_USER",new Y(o.user.uid,o.user.email)),r("SET_LOADING",!1),e.next=17;break;case 12:throw e.prev=12,e.t0=e["catch"](4),r("SET_LOADING",!0),r("SET_ERROR",e.t0.message),e.t0;case 17:case"end":return e.stop()}},e,null,[[4,12]])}));function t(t,n){return e.apply(this,arguments)}return t}(),loginUser:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(t,n){var r,i,a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,i=n.email,a=n.password,r("CLEAR_ERROR"),r("SET_LOADING",!0),e.prev=4,e.next=7,W["auth"]().signInWithEmailAndPassword(i,a);case 7:o=e.sent,r("SET_USER",new Y(o.user.uid,o.user.email)),r("SET_LOADING",!1),e.next=17;break;case 12:throw e.prev=12,e.t0=e["catch"](4),r("SET_LOADING",!1),r("SET_ERROR",e.t0.message),e.t0;case 17:case"end":return e.stop()}},e,null,[[4,12]])}));function t(t,n){return e.apply(this,arguments)}return t}(),autoLoginUser:function(e,t){var n=e.commit;n("SET_USER",new Y(t.uid,t.email))},logoutUser:function(e){var t=e.commit;W["auth"]().signOut(),t("SET_USER",null)}},getters:{getUserInfo:function(e){return e.user}}},X={state:{loading:!1,error:null},mutations:{SET_LOADING:function(e,t){e.loading=t},SET_ERROR:function(e,t){e.error=t},CLEAR_ERROR:function(e){e.error=null}},actions:{setLoading:function(e,t){var n=e.commit;n("SET_LOADING",t)},setError:function(e,t){var n=e.commit;n("SET_ERROR",t)},clearError:function(e){var t=e.commit;t("CLEAR_ERROR")}},getters:{loading:function(e){return e.loading},error:function(e){return e.error}}};r["a"].use(V["a"]);var ee=new V["a"].Store({modules:{shared:X,users:Z,mainInfo:G,services:F,clients:Q}}),te=function(e,t,n){ee.getters.getUserInfo?n():n("/login?loginError=true")};r["a"].use(P["a"]);var ne=[{path:"/",name:"Home",component:function(){return n.e("chunk-b0849b6c").then(n.bind(null,"57da"))},beforeEnter:te},{path:"/clients",name:"Clients",component:function(){return Promise.all([n.e("chunk-f016f126"),n.e("chunk-0a5a751e"),n.e("chunk-03d952bf")]).then(n.bind(null,"5124"))},beforeEnter:te},{path:"/services",name:"Services",component:function(){return Promise.all([n.e("chunk-f016f126"),n.e("chunk-02213e25")]).then(n.bind(null,"76d2"))},beforeEnter:te},{path:"/finances",name:"Finances",component:function(){return Promise.all([n.e("chunk-f016f126"),n.e("chunk-0a5a751e"),n.e("chunk-2d0b6e6c")]).then(n.bind(null,"1eac"))},beforeEnter:te},{path:"/login",name:"Login",component:function(){return Promise.all([n.e("chunk-f016f126"),n.e("chunk-2d0c8e41")]).then(n.bind(null,"578a"))}},{path:"/404",name:"NotFoundPage",component:function(){return n.e("chunk-6ff71fb4").then(n.bind(null,"e614"))},beforeEnter:te},{path:"*",redirect:"/404"}],re=new P["a"]({routes:ne,mode:"history"}),ie=re;r["a"].config.productionTip=!0,W["initializeApp"]({apiKey:"AIzaSyAWJm4ksACPQmA2Es7_vsENgMZbzomtYuA",authDomain:"lk-pflp.firebaseapp.com",databaseURL:"https://lk-pflp.firebaseio.com",projectId:"lk-pflp",storageBucket:"",messagingSenderId:"194171039592",appId:"1:194171039592:web:b222c75a24b89093"});var ae=W["auth"]().onAuthStateChanged(function(e){e&&ee.dispatch("autoLoginUser",e),new r["a"]({vuetify:N,router:ie,store:ee,created:function(){this.$store.dispatch("fetchServices"),this.$store.dispatch("fetchClients")},render:function(e){return e(C)}}).$mount("#app"),ae()})}});
//# sourceMappingURL=app.57af574f.js.map